<!DOCTYPE html>
<html>
    <head>
        <title> JavaScript Program</title>
    </head>
    <body>
        <h2> Callback example</h2>
        <script>
          const fetchUser=(uid,callback)=>{
              console.log("Fetch user from DB");
              setTimeout(()=>{
                 callback({name:'Anuj',uid:uid});
              },2000);
          }
          const fetchServicesOfUser=(users,callback)=>{
              console.log("Fetch user services from DB");
              setTimeout(()=>{
                 callback(["A","B","C","D"]);
              },3000);
          }
          const fetchServiceCost=(services,callback)=>{
              console.log("Fetch user services cost");
              setTimeout(()=>{
                 callback(services.length*6000);
              },4000);
          }
        //call nested callbak
        fetchUser(101,(users)=>{
             fetchServicesOfUser(users,(services)=>{
                fetchServiceCost(services,(cost)=>{
                    console.log(`The cost of services is ${cost}`);
                })
             })
        })
        </script>
    </body>
</html>